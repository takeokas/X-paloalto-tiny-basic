# X-paloalto-tiny-basic
  オリジナルはPalo Alto Tiny BASIC  
  
## 拡張 PaloAlto Tiny BASIC インタープリタ
### ステートメントの区切り記号は「:」に変更。
 (オリジナルは「;」。「:」はMircosoft BASICにならった)  
### 行エディタを付加  
  「EDIT 行番号」で指定した行を、編集可能  
  <- ^A  <^B  DEL^D  ^F> ^E->  
### 二項演算子を拡張
  | OR,  & AND, ^ XOR  
### PEEK, POKE, CALL を拡張
  PEEK(アドレス) :関数。アドレスで指定されたメモリから1バイト読む。  
  POKE アドレス,値 :ステートメント。アドレスで指定されたメモリに値を1バイト書き込む。  
  CALL アドレス : アドレスで指定されたメモリの機械語サブルーチンをコールする。  
### INP, OUTを拡張  
    INP(INアドレス): 関数。INアドレスで指定された入力ポートから1バイト読む。
    OUT OUTアドレス,値 :ステートメント。OUTアドレスで指定された出力ポートに値を1バイト書き込む。  
### 十六進数 $から始まる十六進定数を扱える  
   「&H」ではなく「$」。  
### 十六進プリント・ステートメント
  ?? 式: 式の値を十六進4桁でプリント。  
  ?$ 式: 式の値を十六進2桁でプリント。  
### 十進プリント・ステートメントの追加
  ?: 「PRINT」文と同様

### 一文字入力
  無引数関数 「$」 : キーボードからの1文字入力。  
### テキスト先頭アドレス変数, テキスト末尾アドレス変数
  「[」 : プログラム・テキストの先頭アドレスを保持する変数。  
  「]」 : プログラム・テキストの末尾アドレスを保持する変数。  
###   テキスト末尾サーチ・ステートメント
  「==」: テキスト末尾をテキストの先頭から探す。  
    テキストの末尾は、0xFFFF  

## プログラム・テキスト表現の変更
  行末は 0x00 に変更。オリジナルは 0x0D (「\r」)  
  テキストの末尾を 0xFFFF の2バイトで表現。オリジナルは記号なし。(インタープリタ内のポインタで、末尾を管理)  
## オーバフローの無視  
  オリジナルは二補数表現の演算を守り、加算などのオーバフローを検出して、エラーとしていた。  
  本処理系は、オーバフローは完治しない。これは符号なし二進数の計算に適しており、アドレス計算などで便利である。大小比較は二の補数表現として行う。  
   (本書理系の仕様は、GAME言語と同様である)
## オリジナルの文法
  各ステートメントは、途中で「.」を付けることで後を省略できる。  
  省略形が重複する場合は、インタープリタのキーワード検索順による。ソースコードを参照のこと。  
  NEXTの変数は省略できない。が、「NEXT」は「.」と省略して書ける。つまり「NEXT I」は「.I」と書ける。  
  
